title Đăng ký
actor Actor
boundary Trang chủ
boundary Form đăng nhập
boundary Form đăng ký
control AuthController
participant UserService
database Database

activate Actor 
activate Trang chủ
Actor->Trang chủ: Nhấn nút đăng nhập
Trang chủ->Form đăng nhập: Hiển thị form dialog

activate Form đăng nhập

Actor->Form đăng nhập: Nhập email

activate Form đăng nhập
Form đăng nhập->Form đăng nhập:Kiểm tra định dạng email
deactivate Form đăng nhập

alt email sai định dạng
Form đăng nhập -->Actor:Thông báo email không đúng định dạng
end

activate AuthController
Form đăng nhập-> AuthController: Yêu cầu kiểm tra email
activate Database
AuthController->Database:Yêu cầu lấy dữ liệu
Database-->AuthController:Trả về kết quả
deactivate Database

AuthController-->Form đăng nhập:Trả về kết quả
deactivate AuthController

alt email đã tồn tại
Form đăng nhập -->Actor: Hiện ô nhập mật khẩu, nút đăng nhập
end

Form đăng nhập -->Actor:Hiện nút đăng ký
deactivate Form đăng nhập
Actor->Form đăng nhập: Ấn nút đăng ký
deactivate Actor

Form đăng nhập-> Form đăng ký: Hiển thị form

activate Form đăng ký
Actor->Form đăng ký: Nhập thông tin đăng ký
activate Form đăng ký
Form đăng ký->Form đăng ký:Kiểm tra dữ liệu nhập vào
deactivate Form đăng ký

alt Dữ liệu nhập vào không hợp lệ
activate Actor
Form đăng ký-->Actor: Họ, tên chưa đúng hoặc mật khẩu chưa đủ yêu cầu
deactivate Actor
end

Form đăng ký->AuthController:Yêu cầu đăng ký
deactivate Form đăng ký
activate AuthController
AuthController->UserService:Yêu cầu đăng ký
activate UserService
UserService->Database:Thêm người dùng
activate Database
Database-->UserService:Trả về kết quả
deactivate Database
UserService-->AuthController:Trả về kết quả
deactivate UserService
AuthController-->Trang chủ:Trả kết quả về
deactivate AuthController
activate Actor
Trang chủ-->Actor:Thông báo đăng ký thành công
deactivate Actor
