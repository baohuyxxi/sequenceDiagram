title Quên mật khẩu
actor Actor
boundary Trang chủ
boundary Form đăng nhập
boundary Form quên mật khẩu
control AuthController
participant UserService
database Database



activate Actor 
activate Trang chủ
Actor->Trang chủ: Nhấn nút đăng nhập
Trang chủ->Form đăng nhập: Hiển thị form

activate Form đăng nhập

Actor->Form đăng nhập: Nhập email

activate Form đăng nhập
Form đăng nhập->Form đăng nhập:Kiểm tra định dạng email
deactivate Form đăng nhập

alt email sai định dạng
Form đăng nhập -->Actor:Thông báo email không đúng định dạng
end
activate AuthController
Form đăng nhập-> AuthController: Yêu cầu kiểm tra email
activate Database
AuthController->Database:Yêu cầu lấy dữ liệu
Database-->AuthController:Trả về kết quả
deactivate Database
activate Form đăng nhập

AuthController-->Form đăng nhập:Trả về kết quả
deactivate AuthController
alt email chưa tồn tại
Form đăng nhập -->Actor:Hiện nút đăng ký
end
Form đăng nhập -->Actor: Hiện ô nhập mật khẩu, nút đăng nhập, nút quên mật khẩu
deactivate Form đăng nhập
Actor->Form đăng nhập:Nhấn nút quên mật khẩu
deactivate Actor

Form đăng nhập->Form quên mật khẩu: Hiện form quên mật khẩu
activate Form quên mật khẩu
deactivate Form đăng nhập
Actor->Form quên mật khẩu:Nhập mã capcha và nhấn nút quên mật khẩu
Form quên mật khẩu->Form quên mật khẩu:Kiểm tra capcha
alt Sai capcha 
Form quên mật khẩu-->Actor:Capcha mới
end
Form quên mật khẩu->AuthController:Yêu cầu đổi mật khẩu
activate AuthController
deactivate Form quên mật khẩu

AuthController->UserService:Yêu cầu xử lý đổi mật khẩu
activate UserService
UserService->Database:Đổi mật khẩu mới
activate Database
Database-->UserService: Trả về kết quả
deactivate Database
UserService-->AuthController:Trả về kết quả
deactivate UserService

AuthController-->Trang chủ:Trả về kết quả
deactivate AuthController
Trang chủ-->Actor:Thông báo đổi mật khẩu thành công

































